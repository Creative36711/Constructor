//var audio = [
//    "acevil01_t05.mp3", "acevil02_f08.mp3", "acevil03_f07.mp3", "acevil04_f03.mp3", "acevil06_f01.mp3", "acevil07_r11.mp3", "acevil08_r11.mp3", "acevil10_t02.mp3", "acevil11_t03.mp3", "acgood01_f13.mp3", "acgood02_f12.mp3", "acgood03_r12.mp3", "acgood04_r15.mp3", "acgood05_r03.mp3", "acgood06_r04.mp3", "acgood07_t17.mp3", "acgood08_t06.mp3", "acgood09_t09.mp3", "actionedit01.mp3", "actionedit02.mp3", "actionedit03.mp3", "actionedit04.mp3", "actionedit05.mp3", "actionedit06.mp3", "actionedit07.mp3", "actionedit08.mp3", "actionedit09.mp3", "actionedit10.mp3", "actionedit11.mp3", "actionedit12.mp3", "baevil01_t13.mp3", "baevil02_f13.mp3", "baevil03_f12.mp3", "baevil04_f12.mp3", "baevil05_t10.mp3", "baevil06_t10.mp3", "baevil07_t10.mp3", "baevil08_r09.mp3", "baevil09_r14.mp3", "baevil10_r11.mp3", "baevil11_t06.mp3", "baevil12_t04.mp3", "baevil13_t04.mp3", "baevil14_t18.mp3", "baevil15_t02.mp3", "baevil16_t13.mp3", "baevil17_t13.mp3", "baevil18_t13.mp3", "bagood01_t15.mp3", "bagood02_t17.mp3", "bagood03_t06.mp3", "bagood04_t06.mp3", "bagood05_t11.mp3", "bagood06_t18.mp3", "bagood07_t09.mp3", "bagood08_f16.mp3", "bagood09_f08.mp3", "bagood10_f15.mp3", "bagood11_f14.mp3", "bagood12_f14.mp3", "bagood13_f09.mp3", "bagood14_f01.mp3", "bagood15_f01.mp3", "bagood16_f11.mp3", "bagood17_f03.mp3", "bagood18_f06.mp3", "bagood19_f04.mp3", "bagood20_r10.mp3", "bagood21_r12.mp3", "bagood22_r01.mp3", "bagood23_r13.mp3", "bagood24_r18.mp3", "bagood25_r02.mp3", "bagood26_r14.mp3", "bagood27_r07.mp3", "bagood28_r05.mp3", "bagood29_r04.mp3", "bagood30_t07.mp3", "bagood31_t14.mp3", "bagood32_t14.mp3", "bagood33_t20.mp3", "bagood34_t20.mp3", "bagood35_t16.mp3", "bagood36_t01.mp3", "credits01.mp3", "exevil01_f16.mp3", "exevil02_f07.mp3", "exevil03_f04.mp3", "exevil04_r06.mp3", "exevil05_t07.mp3", "exevil06_t01.mp3", "exevil07_t04.mp3", "exevil08_t03.mp3", "exevil09_t15.mp3", "exgood01_f10.mp3", "exgood02_f12.mp3", "exgood03_f11.mp3", "exgood04_f03.mp3", "exgood05_r02.mp3", "exgood06_r07.mp3", "exgood07_t16.mp3", "exgood08_t12.mp3", "exgood09_t12.mp3", "exgood10_t17.mp3", "exgood11_t03.mp3", "exgood12_t03.mp3", "exgood13_t05.mp3", "exgood14_t09.mp3", "lsevil01.mp3", "mellowedit01.mp3", "r_acevil101.mp3", "r_acevil102.mp3", "r_acevil103.mp3", "r_acevil104.mp3", "r_acevil105.mp3", "r_acevil106.mp3", "r_acevil107.mp3", "r_acevil108.mp3", "r_acevil109.mp3", "r_acevil110.mp3", "r_acevil111.mp3", "r_acevil112.mp3", "r_acevil113.mp3", "r_acevil114.mp3", "r_acevil115.mp3", "r_acevil116.mp3", "r_acgood101.mp3", "r_acgood102.mp3", "r_acgood103.mp3", "r_acgood104.mp3", "r_acgood105.mp3", "r_acgood106.mp3", "r_acgood107.mp3", "r_acgood108.mp3", "r_acgood109.mp3", "r_acgood110.mp3", "r_acgood111.mp3", "r_acgood112.mp3", "r_acgood113.mp3", "r_acgood114.mp3", "r_acgood115.mp3", "r_acneutral101.mp3", "r_acneutral102.mp3", "r_acneutral103.mp3", "r_acneutral104.mp3", "r_acneutral105.mp3", "r_acneutral106.mp3", "r_acneutral107.mp3", "r_acneutral108.mp3", "r_acneutral109.mp3", "r_acneutral110.mp3", "r_acneutral111.mp3", "r_bbevil101.mp3", "r_bbevil102.mp3", "r_bbevil103.mp3", "r_bbevil104.mp3", "r_bbevil105.mp3", "r_bbevil106.mp3", "r_bbevil107.mp3", "r_bbevil108.mp3", "r_bbevil109.mp3", "r_bbgood101.mp3", "r_bbgood102.mp3", "r_bbgood103.mp3", "r_bbgood104.mp3", "r_bbgood105.mp3", "r_bbgood106.mp3", "r_bbgood107.mp3", "r_bbgood108.mp3", "r_bbgood109.mp3", "r_bbgood110.mp3", "r_bbgood111.mp3", "r_bbgood112.mp3", "r_bbgood113.mp3", "r_bbgood114.mp3", "r_bbgood115.mp3", "r_bbgood116.mp3", "r_bbgood117.mp3", "r_bbgood118.mp3", "r_bbneutral101.mp3", "r_bbneutral102.mp3", "r_bbneutral103.mp3", "r_bbneutral104.mp3", "r_bbneutral105.mp3", "r_bbneutral106.mp3", "r_bbneutral107.mp3", "r_credits101.mp3", "r_credits102.mp3", "r_dsevil101.mp3", "r_dsevil102.mp3", "r_dsevil103.mp3", "r_dsgood101.mp3", "r_dsgood102.mp3", "r_dsgood103.mp3", "r_dsgood104.mp3", "r_dsgood105.mp3", "r_dsneutral101.mp3", "r_dsneutral102.mp3", "r_dsneutral103.mp3", "r_dsneutral104.mp3", "r_dsneutral105.mp3", "r_dsneutral106.mp3", "r_dsneutral107.mp3", "r_dsneutral108.mp3", "r_dsneutral109.mp3", "r_dsneutral110.mp3", "r_dsneutral111.mp3", "r_exevil101.mp3", "r_exevil102.mp3", "r_exevil103.mp3", "r_exevil104.mp3", "r_exevil105.mp3", "r_exevil106.mp3", "r_exevil107.mp3", "r_exevil108.mp3", "r_exevil109.mp3", "r_exevil110.mp3", "r_exgood101.mp3", "r_exgood102.mp3", "r_exgood103.mp3", "r_exgood104.mp3", "r_exgood105.mp3", "r_exgood106.mp3", "r_exgood107.mp3", "r_exgood108.mp3", "r_exgood109.mp3", "r_exgood110.mp3", "r_exgood111.mp3", "r_exgood112.mp3", "r_exgood113.mp3", "r_exgood114.mp3", "r_exgood115.mp3", "r_exgood116.mp3", "r_exgood117.mp3", "r_exgood118.mp3", "r_exgood119.mp3", "r_exgood120.mp3", "r_exgood121.mp3", "r_exgood122.mp3", "r_exgood123.mp3", "r_exgood124.mp3", "r_exneutral101.mp3", "r_exneutral102.mp3", "r_exneutral103.mp3", "r_exneutral104.mp3", "r_exneutral105.mp3", "r_exneutral106.mp3", "r_exneutral107.mp3", "r_exneutral108.mp3", "r_exneutral109.mp3", "r_exneutral110.mp3", "r_exneutral111.mp3", "r_exneutral112.mp3", "r_exneutral113.mp3", "r_livingworld101.mp3", "r_livingworld102.mp3", "r_livingworld104.mp3", "r_livingworld105.mp3", "r_livingworld106.mp3", "silence60.mp3", "sx_bfme2_ac1evil01.mp3", "sx_bfme2_ac1evil02.mp3", "sx_bfme2_ac1good01.mp3", "sx_bfme2_ac1good02.mp3", "sx_bfme2_ba1dwarf01.mp3", "sx_bfme2_ba1dwarf02.mp3", "sx_bfme2_ba1goblin01.mp3", "sx_bfme2_ba1goblin02.mp3", "sx_bfme2_ex1dwarf01.mp3", "sx_bfme2_ex1dwarf02.mp3", "sx_bfme2_ex1elf01.mp3", "sx_bfme2_ex1elf02.mp3", "sx_bfme2_ex1evil01.mp3", "sx_bfme2_ex1goblin01.mp3", "sx_bfme2_ex1goblin02.mp3", "sx_bfme2_ex1good01.mp3", "sx_ea_01.mp3", "sx_ea_02.mp3", "sx_ea_03.mp3", "sx_ea_04.mp3", "sx_ea_05.mp3", "sx_ea_06.mp3", "sx_ee_01.mp3", "sx_ee_02.mp3", "sx_ee_03.mp3", "sx_ee_04.mp3", "sx_ee_05.mp3", "sx_ga_01.mp3", "sx_ga_02.mp3", "sx_ga_03.mp3", "sx_ga_04.mp3", "sx_ga_05.mp3", "sx_ga_06.mp3", "sx_ge_01.mp3", "sx_ge_02.mp3", "sx_ge_03.mp3", "sx_ge_04.mp3", "sx_ge_05.mp3", "vsevil01.mp3", "vsgood01.mp3",
//]

var audio = [
    "acevil01_t05.mp3", "acevil02_f08.mp3", "acevil03_f07.mp3", "acevil04_f03.mp3", "acevil06_f01.mp3", "acevil07_r11.mp3", "acevil08_r11.mp3", "acevil10_t02.mp3", "acevil11_t03.mp3", "acgood01_f13.mp3", "acgood02_f12.mp3"
]


jQuery.audioLoop = function () {
    if($("#audio-switch").prop('checked')){
        randomAudio = audio[Math.floor(Math.random() * audio.length)];
        sound = new Howl({
            src: ['/static/builder/audio/'+randomAudio],
            volume: 0.4,
        })
        $('#audio').trigger('click')
        sound.on('end', function(){
            jQuery.audioLoop()
        })
    }
}

$("#audio-switch").change(function(){
    if ($("#audio-switch").prop('checked')) {
        jQuery.audioLoop()
        document.cookie = "music=on;path=/builder;max-age=2629743"
    } else {
        sound.stop()
        document.cookie = "music=off;path=/builder;max-age=2629743"
    }
})

jQuery.audioLoop()

$("#full-screen").change(function(){
    if ($("#full-screen").prop('checked')) {
        document.documentElement.requestFullscreen()
        document.cookie = "fullscreen=on;path=/builder;max-age=2629743"
    } else {
        document.exitFullscreen()
        document.cookie = "fullscreen=off;path=/builder;max-age=2629743"
    }
})

$("#Container").click(function(){
    if (document.fullscreenElement === null && $("#full-screen").prop('checked')) {
        $('#full-screen').trigger('click')
        $('#full-screen').trigger('click')
    }
})

var video = [
    "background-1.mp4", "background-2.mp4", "background-3.mp4", "background-4.mp4", "background-5.mp4", "background-6.mp4", "background-7.mp4", "background-8.mp4", "background-9.mp4", "background-10.mp4", "background-11.mp4", "background-12.mp4", "background-13.mp4", "background-14.mp4", "background-15.mp4"
]

var randomVideo = video[Math.floor(Math.random() * video.length)];

var videoTag = $('<video>', {'autoplay':'autoplay', 'muted':'muted', 'loop':'loop', 'id':'myVideo', 'poster':'/static/builder/img/background.jpg', 'src':'/static/builder/video/'+randomVideo });

$('.video-background').append(videoTag);

function getCookie(name) {
	var matches = document.cookie.match(new RegExp("(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"));
	return matches ? decodeURIComponent(matches[1]) : undefined;
}

if (getCookie('music') != undefined && getCookie('fullscreen') != undefined) {
    if (getCookie('music') == "on") $('#audio-switch').trigger('click')
    if(getCookie('fullscreen') == "on") $('#full-screen').attr('checked', 'checked');
} else {
    document.cookie = "music=on;path=/builder;max-age=2629743"
    document.cookie = "fullscreen=on;path=/builder;max-age=2629743"
    $('#audio-switch').trigger('click')
    $('#full-screen').attr('checked', 'checked');
}







